# Set data directory.
data_dir <- 'Data'
# Set directory for storing figures.
fig_dir <- 'Figures'
# Set directory for storing tables.
tab_dir <- 'Tables'
# Libraries to print tables of regression results.
library(xtable)
library(texreg)
# Library mgcv for estimating Generalized Additive Models
library(mgcv)
in_file_name <- sprintf('%s/%s', data_dir, "UsedTrucks.dat")
Truck_col_names <- c('type', 'pauc', 'pret', 'mileage', 'make',
'year', 'damage', 'dealer', 'ror', 'cost')
# Load data.
Truck <- read.table(file = in_file_name, header = FALSE,
col.names = Truck_col_names)
# Initial inspection.
print("Summary of UsedTrucks.dat dataset:")
print(summary(Truck))
setwd("C:/Users/alibe/OneDrive/Bureau/UCF/Semester5/Capstone/Assignment/Assignment_08")
# Load data.
Truck <- read.table(file = in_file_name, header = FALSE,
col.names = Truck_col_names)
# Initial inspection.
print("Summary of UsedTrucks.dat dataset:")
print(summary(Truck))
Truck[, 'log_cost'] <- log(Truck[, 'cost'])
#create age so numbers look a little nicer on prediction
Truck$age <- 2020-Truck$year
# Create a variable squared_horsepower
# to investigate quadratic relationship of sale price to horsepower.
Truck[, 'squared_mileage'] <- Truck[, 'mileage']^2
# Estimate a regression model.
lm_7 <- lm(data = Truck,
formula = log_cost ~
squared_mileage +
make +
damage +
dealer + mileage + age + type )
# Output the results to screen.
print(summary(lm_7))
# Print the output to a LaTeX file.
tab_file_name <- 'reg_sq_damage.tex'
out_file_name <- sprintf('%s/%s', tab_dir, tab_file_name)
exreg(l = list(lm_7),
digits = 5,
file = out_file_name,
label = 'tab:reg_sq_damage',
caption = "Quadratic Model for Trucks cost")
texreg(l = list(lm_7),
digits = 5,
file = out_file_name,
label = 'tab:reg_sq_damage',
caption = "Quadratic Model for Trucks cost")
